<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{{ title }}</title>
</head>
<body style="margin: 0; padding: 20px; background: #f5f5f5; font-family: Arial, sans-serif;">

  <!-- Centered container, max-width 600px for email compatibility -->
  <table width="100%" cellpadding="0" cellspacing="0" role="presentation">
    <tr>
      <td align="center">
        <table width="600" cellpadding="0" cellspacing="0" role="presentation"
               style="background: #ffffff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">

          <!-- HEADER with centered logo -->
          <tr>
            <td style="padding: 30px; text-align: center; background: #1a1a2e; border-radius: 8px 8px 0 0;">
              {{ logo | render(inline_css=True) }}
              <h1 style="color: #ffffff; margin: 15px 0 0 0; font-size: 24px;">
                Server Status Report
              </h1>
            </td>
          </tr>

          <!-- DATE/TIME banner -->
          <tr>
            <td style="padding: 15px 30px; background: #16213e; color: #ffffff; text-align: center; font-size: 14px;">
              Generated: {{ generated_at }} UTC
            </td>
          </tr>

          <!-- MAIN CONTENT -->
          <tr>
            <td style="padding: 30px;">

              <!-- System Overview -->
              <h2 style="color: #1a1a2e; border-bottom: 2px solid #e94560; padding-bottom: 10px; margin-top: 0;">
                System Overview
              </h2>
              {{ system_metrics | render(inline_css=True) }}

              <!-- Services Table -->
              <h2 style="color: #1a1a2e; border-bottom: 2px solid #e94560; padding-bottom: 10px; margin-top: 30px;">
                Services Status
              </h2>
              {{ services_table | render(inline_css=True) }}

              <!-- Alerts section (conditional) -->
              {% if alerts %}
              <h2 style="color: #e94560; border-bottom: 2px solid #e94560; padding-bottom: 10px; margin-top: 30px;">
                Active Alerts
              </h2>
              {{ alerts | render(inline_css=True) }}
              {% endif %}

            </td>
          </tr>

          <!-- FOOTER / SIGNATURE -->
          <tr>
            <td style="padding: 20px 30px; background: #f8f9fa; border-top: 1px solid #dee2e6; text-align: center; border-radius: 0 0 8px 8px;">
              <p style="margin: 0; color: #6c757d; font-size: 12px;">
                This report was automatically generated by <strong>kstlib.monitoring</strong>
              </p>
              <p style="margin: 5px 0 0 0; color: #6c757d; font-size: 11px;">
                Environment: {{ environment }} | Version: {{ version }}
              </p>
            </td>
          </tr>

        </table>
      </td>
    </tr>
  </table>

</body>
</html>
